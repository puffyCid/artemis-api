"use strict";(self.webpackChunkartemis_docs=self.webpackChunkartemis_docs||[]).push([[1052],{224:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>o,contentTitle:()=>a,default:()=>p,frontMatter:()=>s,metadata:()=>c,toc:()=>d});var i=t(7624),r=t(2172);const s={description:"Transparency, Consent, and Control database",keywords:["macOS","sqlite"]},a="TCC",c={id:"Artifacts/macOS Artifacts/tcc",title:"TCC",description:"Transparency, Consent, and Control database",source:"@site/docs/Artifacts/macOS Artifacts/tcc.md",sourceDirName:"Artifacts/macOS Artifacts",slug:"/Artifacts/macOS Artifacts/tcc",permalink:"/artemis-api/docs/Artifacts/macOS Artifacts/tcc",draft:!1,unlisted:!1,editUrl:"https://github.com/puffyCid/artemis-api/tree/main/artemis-docs/docs/Artifacts/macOS Artifacts/tcc.md",tags:[],version:"current",lastUpdatedBy:"puffyCid",lastUpdatedAt:1718492978e3,frontMatter:{description:"Transparency, Consent, and Control database",keywords:["macOS","sqlite"]},sidebar:"artemisArtifacts",previous:{title:"SystemInfo",permalink:"/artemis-api/docs/Artifacts/macOS Artifacts/systeminfo"},next:{title:"UnifiedLogs",permalink:"/artemis-api/docs/Artifacts/macOS Artifacts/unifiedlogs"}},o={},d=[];function l(n){const e={a:"a",code:"code",h1:"h1",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.M)(),...n.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.h1,{id:"tcc",children:"TCC"}),"\n",(0,i.jsxs)(e.p,{children:["The macOS Transparency, Consent, and Control (",(0,i.jsx)(e.code,{children:"TCC"}),") database contains data\nassociated with permissions granted to applications. Artemis support querying\nthe database (SQLite) and extracting permissions granted to applications."]}),"\n",(0,i.jsx)(e.p,{children:"The TCC.db file can exist in multiple directories. Artemis will try to parse\nfiles at the following locations:"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"/Users/*/Library/Application Support/com.apple.TCC/TCC.db"}),"\n",(0,i.jsx)(e.li,{children:"/Library/Application Support/com.apple.TCC/TCC.db"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:"You may also provide an optional alternative path to the TCC.db fille."}),"\n",(0,i.jsx)(e.h1,{id:"collection",children:"Collection"}),"\n",(0,i.jsxs)(e.p,{children:["You have to use the artemis ",(0,i.jsx)(e.a,{href:"/artemis-api/docs/API/overview",children:"api"})," in order to collect TCC\ndata."]}),"\n",(0,i.jsx)(e.h1,{id:"sample-api-script",children:"Sample API Script"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-typescript",children:'import {\n  queryTccDb,\n} from "https://raw.githubusercontent.com/puffycid/artemis-api/master/mod.ts";\n\nfunction main() {\n  const results = queryTccDb();\n\n  console.log(results);\n}\n'})}),"\n",(0,i.jsx)(e.h1,{id:"output-structure",children:"Output Structure"}),"\n",(0,i.jsxs)(e.p,{children:["An array of ",(0,i.jsx)(e.code,{children:"TccValues"})," entries."]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-typescript",children:'export interface TccValues {\n  db_path: string;\n  data: TccData[];\n}\n\nexport interface TccData {\n  service: string;\n  client: string;\n  client_type: ClientType;\n  auth_value: AuthValue;\n  auth_reason: Reason;\n  auth_version: number;\n  cert: SingleRequirement | undefined;\n  policy_id: number | undefined;\n  indirect_object_identifier_type: number | undefined;\n  indirect_object_identifier: string;\n  indirect_object_code_identity: SingleRequirement | undefined;\n  flags: number | undefined;\n  last_modified: string;\n  pid: number | undefined;\n  pid_version: number | undefined;\n  boot_uuid: string;\n  last_reminded: string;\n}\n\nexport enum Reason {\n  Error = "Error",\n  UserConsent = "UserConsent",\n  UserSet = "UserSet",\n  SystemSet = "SystemSet",\n  ServicePolicy = "ServicePolicy",\n  MDMPolicy = "MDMPolicy",\n  OverridePolicy = "OverridePolicy",\n  MissingUsageString = "MissingUsageString",\n  PromptTimeout = "PromptTimeout",\n  PreflightUnknown = "PreflightUnknown",\n  Entitled = "Entitled",\n  AppTypePolicy = "AppTypePolicy",\n  Unknown = "Unknown",\n}\n\nexport enum ClientType {\n  BundleId = "BundleId",\n  AbsolutePath = "AbsolutePath",\n  Unknown = "Unknown",\n}\n\nexport enum AuthValue {\n  Denied = "Denied",\n  Allowed = "Allowed",\n  Limited = "Limited",\n  Unknown = "Unknown",\n}\n'})})]})}function p(n={}){const{wrapper:e}={...(0,r.M)(),...n.components};return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(l,{...n})}):l(n)}},2172:(n,e,t)=>{t.d(e,{I:()=>c,M:()=>a});var i=t(1504);const r={},s=i.createContext(r);function a(n){const e=i.useContext(s);return i.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function c(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(r):n.components||r:a(n.components),i.createElement(s.Provider,{value:e},n.children)}}}]);