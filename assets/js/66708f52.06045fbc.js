"use strict";(self.webpackChunkartemis_docs=self.webpackChunkartemis_docs||[]).push([[1717],{25480:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>o,contentTitle:()=>l,default:()=>h,frontMatter:()=>a,metadata:()=>n,toc:()=>c});const n=JSON.parse('{"id":"Contributing/overview","title":"Getting Started","description":"The artemis source code is about ~100k lines of Rust code across ~619 files as of","source":"@site/docs/Contributing/overview.md","sourceDirName":"Contributing","slug":"/Contributing/overview","permalink":"/artemis-api/docs/Contributing/overview","draft":false,"unlisted":false,"editUrl":"https://github.com/puffyCid/artemis-api/tree/main/artemis-docs/docs/Contributing/overview.md","tags":[],"version":"current","lastUpdatedBy":"puffycid","lastUpdatedAt":1748157447000,"sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"artemisContributing","previous":{"title":"Prerequisites","permalink":"/artemis-api/docs/Contributing/building"},"next":{"title":"Adding a Feature","permalink":"/artemis-api/docs/Contributing/adding"}}');var i=s(74848),r=s(28453);const a={sidebar_position:2},l="Getting Started",o={},c=[{value:"Useful Helper Functions",id:"useful-helper-functions",level:2}];function d(e){const t={a:"a",admonition:"admonition",br:"br",code:"code",em:"em",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.header,{children:(0,i.jsx)(t.h1,{id:"getting-started",children:"Getting Started"})}),"\n",(0,i.jsx)(t.p,{children:"The artemis source code is about ~100k lines of Rust code across ~619 files as of\nMay 2025 (this includes tests). However its organized in a pretty simple\nstructure."}),"\n",(0,i.jsx)(t.admonition,{type:"tip",children:(0,i.jsxs)(t.p,{children:["Use the just command ",(0,i.jsx)(t.code,{children:"just complex"})," to measure lines of Rust and complexity!",(0,i.jsx)(t.br,{}),"\n","(requires ",(0,i.jsx)(t.a,{href:"https://github.com/boyter/scc",children:"scc"}),")"]})}),"\n",(0,i.jsx)(t.p,{children:"From the root of the artemis repo:"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.code,{children:"core/"})," workspace contains the library component of artemis. The bulk of the\ncode is located here"]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.code,{children:"cli/"})," workspace contains the executable component artemis."]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.code,{children:"timeline/"})," workspace contains functions to timeline artifacts"]}),"\n"]}),"\n",(0,i.jsxs)(t.p,{children:["From the ",(0,i.jsx)(t.code,{children:"core/src/"})," directory"]}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"Directory"}),(0,i.jsx)(t.th,{children:"Description"})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"artifacts"}),(0,i.jsxs)(t.td,{children:["Contains the code related to parsing forensic artifacts.",(0,i.jsx)("br",{})," It is broken down by OS and application artifacts"]})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"filesystem"}),(0,i.jsxs)(t.td,{children:["Contains code to help interact with the filesystem. It contains helper functions that can be used when adding new artifacts/features. ",(0,i.jsx)("br",{}),"Ex: reading/hashing files, getting file timestamps, listing files, etc"]})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"output"}),(0,i.jsx)(t.td,{children:"Contains code related to outputting parsed data"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"runtime"}),(0,i.jsx)(t.td,{children:"Contains code related to the embedded JS runtime"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"structs"}),(0,i.jsxs)(t.td,{children:["Contains code related to how TOML collection files are parsed. It ",(0,i.jsx)("br",{})," tells artemis how to interpret TOML collections."]})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"utils"}),(0,i.jsxs)(t.td,{children:["Contains code related to help parse artifacts and provide other features to artemis. ",(0,i.jsx)("br",{})," Ex: Decompress/compress data, get environment variables,create a Regex expression, extract strings, convert timestamps, etc"]})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"core.rs"}),(0,i.jsxs)(t.td,{children:["Contains the entry point to the ",(0,i.jsx)(t.code,{children:"core"})," library."]})]})]})]}),"\n",(0,i.jsx)(t.h1,{id:"adding-new-artifacts",children:"Adding New Artifacts"}),"\n",(0,i.jsx)(t.p,{children:"To keep the codebase organized the follow should be followed when adding a new\nartifact."}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:["Artifacts have their own subfolder. Ex: ",(0,i.jsx)(t.code,{children:"src/artifacts/os/windows/prefetch"})]}),"\n",(0,i.jsxs)(t.li,{children:["The subfolder will probably have the following files at minimum:","\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:["parser.rs - Contains ",(0,i.jsx)(t.code,{children:"pub(crate)"})," accessible functions for the artifact"]}),"\n",(0,i.jsx)(t.li,{children:"error.rs - Artifact specific errors"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(t.h1,{id:"timestamps",children:"Timestamps"}),"\n",(0,i.jsxs)(t.p,{children:["All timestamps artemis outputs are in ISO RFC 3339 format\n(YYYY-MM-DDTHH:mm",":ss",".SSSZ). The timestamp from should be from UNIXEPOCH time."]}),"\n",(0,i.jsxs)(t.p,{children:["If your new artifact has a timestamp, you will need to make sure the timestamp\nis in YYYY-MM-DDTHH:mm",":ss",".SSSZ format. Though exceptions may be allowed if\nneeded, these exceptions will only be for the duration (ex: seconds vs\nnanoseconds)."]}),"\n",(0,i.jsx)(t.p,{children:"No other time formats such as Windows FILETIME, FATTIME, Chromium time, etc are\nallowed."}),"\n",(0,i.jsx)(t.admonition,{type:"tip",children:(0,i.jsxs)(t.p,{children:["Use the time functions under ",(0,i.jsx)(t.strong,{children:"utils"})," to help with timestamp conversions!"]})}),"\n",(0,i.jsx)(t.h1,{id:"artifact-scope",children:"Artifact Scope"}),"\n",(0,i.jsx)(t.p,{children:"Currently all artifacts that artemis parses are statically coded in the binary\n(they are written in Rust). While this ok, it prevents us from dynamically\nupdating the parser if the artifact format changes (ex: new Windows release)."}),"\n",(0,i.jsxs)(t.p,{children:["Currently the ",(0,i.jsx)(t.a,{href:"/artemis-api/docs/Intro/Scripting/boa",children:"JS runtime"})," has minimal support for\ncreating parsers. If you are interested in adding a small parser to artemis, it\ncould be worth first trying to code it using the JS runtime."]}),"\n",(0,i.jsxs)(t.p,{children:["An simple JS parser can be found in the\n",(0,i.jsx)(t.a,{href:"https://github.com/puffyCid/artemis-api/blob/main/src/images/icns.ts",children:"artemis API"}),"\nrepo."]}),"\n",(0,i.jsxs)(t.p,{children:["However, if you want to implement a new parser for parsing common Windows\nartifacts such as ",(0,i.jsx)(t.em,{children:"Jumplists"})," then that is definitely something that could be\nworth including as a Rust coded parser."]}),"\n",(0,i.jsx)(t.p,{children:"When in doubt or unsure open an issue!"}),"\n",(0,i.jsx)(t.h1,{id:"suggestions",children:"Suggestions"}),"\n",(0,i.jsx)(t.p,{children:"If you want add a new artifact but want to see how other artifacts are\nimplemented, some suggested ones to review are:"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.code,{children:"UserAssist"}),": If you want to add a new Registry artifact. The UserAssist\nartifact is less than 300 lines (not counting tests). And includes:"]}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"Parsing binary data"}),"\n",(0,i.jsx)(t.li,{children:"Converting timestamps"}),"\n",(0,i.jsx)(t.li,{children:"Collecting user Registry data"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.code,{children:"FsEvents"}),": If you want to to parse a binary file. The FsEvents is less than\n300 lines (not counting tests). And includes:"]}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"Parsing binary data"}),"\n",(0,i.jsx)(t.li,{children:"Decompressing data"}),"\n",(0,i.jsx)(t.li,{children:"Getting data flags"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(t.admonition,{type:"info",children:(0,i.jsx)(t.p,{children:"FsEvents is the first artifact created for artemis. Its the oldest code in the project!"})}),"\n",(0,i.jsx)(t.h2,{id:"useful-helper-functions",children:"Useful Helper Functions"}),"\n",(0,i.jsxs)(t.p,{children:["The artemis codebase contains a handful of artifacts (ex: ",(0,i.jsx)(t.code,{children:"Registry"}),") that\nexpose helper functions that allow other artifacts to reuse parts of that\nartifact to help get artifact specific data."]}),"\n",(0,i.jsx)(t.p,{children:"For example the Windows Registry artifact exposes a helper function that other\nRegistry based artifacts can leverage to help parse the Registry:"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.code,{children:"pub(crate) fn get_registry_keys(start_path: &str, regex: &Regex, file_path: &str)"}),"\nwill read a Registry file at provided file_path and filter to based on\nstart_path and regex. If start_path and regex are empty a full Registry\nlisting is returned. All Regex comparisons are done in lowercase."]}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:"Some other examples listed below:"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.code,{children:"/filesystem"})," contains code to help interact with the filesystem."]}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.code,{children:"pub(crate) fn list_files(path: &str)"})," returns list of files"]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.code,{children:"pub(crate) fn read_file(path: &str)"})," reads a file"]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.code,{children:"pub(crate) fn hash_file(hashes: &Hashes, path: &str)"})," hashes a file based\non selected hashes (MD5, SHA1, SHA256)"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.code,{children:"/filesystem/ntfs"})," contains code to help interact with the raw NTFS\nfilesystem. It lets us bypass locked files. This is only available on Windows"]}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.code,{children:"pub(crate) fn raw_read_file(path: &str)"})," reads a file. Will bypass file\nlocks"]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.code,{children:"pub(crate) fn read_attribute(path: &str, attribute: &str)"})," can read an\nAlternative Data Stream (ADS)"]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.code,{children:"pub(crate) fn get_user_registry_files(drive: &char)"})," returns a Vector that\ncontains references to all user Registry files (NTUSER.DAT and\nUsrClass.dat). It does ",(0,i.jsx)(t.strong,{children:"not"})," read the files, it just provides all the data\nneeded to start reading them."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.code,{children:"/src/artifacts/os/macos/plist/property_list.rs"})," contains code help parse\nplist files."]}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.code,{children:"pub(crate) fn parse_plist_file(path: &str)"})," will parse a plist file and\nreturn it as a Serde Value"]}),"\n"]}),"\n"]}),"\n"]})]})}function h(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},28453:(e,t,s)=>{s.d(t,{R:()=>a,x:()=>l});var n=s(96540);const i={},r=n.createContext(i);function a(e){const t=n.useContext(r);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function l(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),n.createElement(r.Provider,{value:t},e.children)}}}]);