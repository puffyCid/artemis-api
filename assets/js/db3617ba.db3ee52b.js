"use strict";(self.webpackChunkartemis_docs=self.webpackChunkartemis_docs||[]).push([[1969],{28453:(e,n,t)=>{t.d(n,{R:()=>a,x:()=>c});var i=t(96540);const r={},s=i.createContext(r);function a(e){const n=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),i.createElement(s.Provider,{value:n},e.children)}},94167:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>o,contentTitle:()=>c,default:()=>p,frontMatter:()=>a,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"Artifacts/macOS Artifacts/tcc","title":"TCC","description":"Transparency, Consent, and Control database","source":"@site/docs/Artifacts/macOS Artifacts/tcc.md","sourceDirName":"Artifacts/macOS Artifacts","slug":"/Artifacts/macOS Artifacts/tcc","permalink":"/artemis-api/docs/Artifacts/macOS Artifacts/tcc","draft":false,"unlisted":false,"editUrl":"https://github.com/puffyCid/artemis-api/tree/main/artemis-docs/docs/Artifacts/macOS Artifacts/tcc.md","tags":[],"version":"current","lastUpdatedBy":"puffycid","lastUpdatedAt":1759092536000,"frontMatter":{"description":"Transparency, Consent, and Control database","keywords":["macOS","sqlite"]},"sidebar":"artemisArtifacts","previous":{"title":"SystemInfo","permalink":"/artemis-api/docs/Artifacts/macOS Artifacts/systeminfo"},"next":{"title":"UnifiedLogs","permalink":"/artemis-api/docs/Artifacts/macOS Artifacts/unifiedlogs"}}');var r=t(74848),s=t(28453);const a={description:"Transparency, Consent, and Control database",keywords:["macOS","sqlite"]},c="TCC",o={},d=[];function l(e){const n={a:"a",code:"code",h1:"h1",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"tcc",children:"TCC"})}),"\n",(0,r.jsxs)(n.p,{children:["The macOS Transparency, Consent, and Control (",(0,r.jsx)(n.code,{children:"TCC"}),") database contains data\nassociated with permissions granted to applications. Artemis supports querying\nthe database (SQLite) and extracting permissions granted to applications."]}),"\n",(0,r.jsx)(n.p,{children:"The TCC.db file can exist in multiple directories. Artemis will try to parse\nfiles at the following locations:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"/Users/*/Library/Application Support/com.apple.TCC/TCC.db"}),"\n",(0,r.jsx)(n.li,{children:"/Library/Application Support/com.apple.TCC/TCC.db"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"You may also provide an optional alternative path to the TCC.db fille."}),"\n",(0,r.jsx)(n.h1,{id:"collection",children:"Collection"}),"\n",(0,r.jsxs)(n.p,{children:["You have to use the artemis ",(0,r.jsx)(n.a,{href:"/artemis-api/docs/API/overview",children:"api"})," in order to collect TCC\ndata."]}),"\n",(0,r.jsx)(n.h1,{id:"sample-api-script",children:"Sample API Script"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:'import {\n  queryTccDb,\n} from "./artemis-api/mod";\n\nfunction main() {\n  const results = queryTccDb();\n\n  console.log(results);\n}\n'})}),"\n",(0,r.jsx)(n.h1,{id:"output-structure",children:"Output Structure"}),"\n",(0,r.jsxs)(n.p,{children:["An array of ",(0,r.jsx)(n.code,{children:"TccValues"})," entries."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:'export interface TccValues {\n  db_path: string;\n  data: TccData[];\n}\n\nexport interface TccData {\n  service: string;\n  client: string;\n  client_type: ClientType;\n  auth_value: AuthValue;\n  auth_reason: Reason;\n  auth_version: number;\n  cert: SingleRequirement | undefined;\n  policy_id: number | undefined;\n  indirect_object_identifier_type: number | undefined;\n  indirect_object_identifier: string;\n  indirect_object_code_identity: SingleRequirement | undefined;\n  flags: number | undefined;\n  last_modified: string;\n  pid: number | undefined;\n  pid_version: number | undefined;\n  boot_uuid: string;\n  last_reminded: string;\n}\n\nexport enum Reason {\n  Error = "Error",\n  UserConsent = "UserConsent",\n  UserSet = "UserSet",\n  SystemSet = "SystemSet",\n  ServicePolicy = "ServicePolicy",\n  MDMPolicy = "MDMPolicy",\n  OverridePolicy = "OverridePolicy",\n  MissingUsageString = "MissingUsageString",\n  PromptTimeout = "PromptTimeout",\n  PreflightUnknown = "PreflightUnknown",\n  Entitled = "Entitled",\n  AppTypePolicy = "AppTypePolicy",\n  Unknown = "Unknown",\n}\n\nexport enum ClientType {\n  BundleId = "BundleId",\n  AbsolutePath = "AbsolutePath",\n  Unknown = "Unknown",\n}\n\nexport enum AuthValue {\n  Denied = "Denied",\n  Allowed = "Allowed",\n  Limited = "Limited",\n  Unknown = "Unknown",\n}\n'})})]})}function p(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}}}]);